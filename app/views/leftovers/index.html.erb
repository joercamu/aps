<p class="subtitle">Sobrantes</p>
<%= link_to 'Nuevo sobrante', new_leftover_path, target:"_self",class:"button" %>
<table class="scroll">
  <thead>
    <tr>
      <th>ID</th>
      <th>Pedido origen</th>
      <th>Cliente</th>
      <th>Ficha numero</th>
      <th>Ficha version</th>

      <th>Cantidad</th>
      <th>Cantidad disponible</th>
      <th>Um</th>
      <th>Peso</th>
      <th>Ubicacion</th>

      <th>Fecha de entrada</th>
      <th>Disposicion</th>
      <th>Ficha composicion</th>
      <th>Lugar de origen</th>
      <th>Estado</th>
      <th>usuario</th>
      <th>Editar</th>
      <th>Eliminar</th>
    </tr>
  </thead>

  <tbody>
    <% @leftovers.each do |leftover| %>
      <tr>
        <td><%= link_to leftover.id, leftover %></td>
        <td>K<%= leftover.order_origin %></td>
        <td><%= leftover.sheet_id %></td>
        <td><%= leftover.sheet_code %></td>
        <td><%= leftover.sheet_version %></td>

        <td><%= leftover.quantity %></td>
        <td><%= leftover.quantity_available %></td>
        <td><%= leftover.um %></td>
        <td><%= leftover.weight %></td>
        <td><%= leftover.location %></td>
         
        <td><%= leftover.entry_date %></td>
        <td><%= leftover.disposition %></td>
        <td><%= leftover.sheet_composite %></td>
        <td><%= leftover.place_origin %></td>
        <td><%= leftover.state %></td>
        <td><%= leftover.user.email.split('@').first %></td>
        <td><%= link_to 'Editar', edit_leftover_path(leftover), target:"_self" %></td>
        <td>
          <%= link_to '', leftover, method: :delete, data: { confirm: 'Estas seguro?' } , class:"icon-trash-o"%>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<script type="text/javascript">
  $(document).ready(function() {
      $('table').DataTable({
        "language": {
          "lengthMenu":     "Mostrar _MENU_ sobrantes",
          "info": "Mostrando _START_ hasta _END_ de _TOTAL_ sobrantes",
          "search":         "Buscar:",
          "zeroRecords":    "Sobrante no encontrado",
          "loadingRecords": "Cargando...",
        "processing":     "Procesando...",
           "paginate": {
            "first":      "Primero",
            "last":       "Ultimo",
            "next":       "Siguiente",
            "previous":   "Anterior"
        }
        }
      });
  } );
</script>
